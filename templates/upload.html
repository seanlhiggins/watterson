<!DOCTYPE html>
<html lang="en">
<head>	
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">

</head>
<script type="">
	var inputOne = $("#uadefault1");
	var inputTwo = $("#userattributeinput");
	inputTwo.val(inputOne.val());
</script>
<body>

<div class="topnav">
  <a class="active" href="home">Watterson</a>
  <a class="active" >A CSV upload page for Looker user management</a>

</div>

<form method=post enctype=multipart/form-data>
    <input type=file name=file>
    <input type=submit class ="btn btn-primary" value=Upload>
</form>

<div id="auth">
	<form >
	  Host:<br>
	  <input type="text" name="host">
	  <br>
	  Client ID:<br>
	  <input type="text" name="clientid">
	  <br>
	  Client Secret:<br>
	  <input type="text" name="clientsecret">
	</form> 
</div>
<br>
<br>
<div id="uploadedcsv">
CSV Headers: 
	<div id="lk-content">
		<table class="table table-striped users-table" style="float: center">
			<thead>
			<th>Field Name</th>
			<th>Create As</th>
			<th>Default Value</th>
			<th>Add All Users to Group?</th>
			<th>Assign All Users Default value</th>
		</thead>
		<tbody>
<!-- For every header in the spreadsheet, create a row with checkboxes and buttons, using Jinja's loop.index to make sure we can granularly control selections between each  -->

	<form  method=POST action="/process">
	{% for header in columns %}
	  	<tr>
	  		<td><input type="text" name="fieldname{{loop.index}}" id="fieldname" size="15" value={{header}} ></td>

			<td><select name="ftype{{loop.index}}" id="ftype" title="Choose whether you wish to create a Group or User Attribute" onchange="if(this.value='User Attribute')document.getElementById('uadefault{{loop.index}}').disabled=true"><option value="GRP" {vc1}="">Group</option><option value="UA" {vc1}="">User Attribute</option></select>
	  		
	  		<td><input type="text" name="uadefault{{loop.index}}" id="uadefault1" size="15" title="User Attribute default value"></td>
			
			<td><input type="checkbox" name="chkcreategroup{{loop.index}}" id="chkcreategroup" value="Y" onclick="if(this.checked)document.getElementById('chkcreateuseratt{{loop.index}}').checked=false"></td>
			
			<td><input type="checkbox" name="chkcreateuseratt{{loop.index}}" id="chkcreateuseratt" value="Y" onclick="if(this.checked)document.getElementById('chkcreategroup{{loop.index}}').checked=false"></td>
		</tr>
	{% endfor %}
		<input type=submit class ="btn btn-primary" value=Submit>
	</form>


		</tbody>
	</table>

	</div>

</div>
<br>
</body>
</html>